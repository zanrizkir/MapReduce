<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Analysis - MapReduce Analytics</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-gradient">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-project-diagram me-2"></i>
                <span class="brand-text">MapReduce Analytics</span>
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="index.html">
                    <i class="fas fa-home me-1"></i>Dashboard
                </a>
                <a class="nav-link" href="word-count.html">
                    <i class="fas fa-font me-1"></i>Word Count
                </a>
                <a class="nav-link" href="average.html">
                    <i class="fas fa-calculator me-1"></i>Average
                </a>
                <a class="nav-link" href="sales.html">
                    <i class="fas fa-chart-line me-1"></i>Sales
                </a>
                <a class="nav-link active" href="chat.html">
                    <i class="fas fa-comments me-1"></i>Chat
                </a>
            </div>
        </div>
    </nav>

    <div class="chat-container">
        <!-- Header -->
        <div class="chat-header">
            <h1 class="chat-title">
                <i class="fas fa-comments me-3"></i>
                Chat Analysis
            </h1>
            <p class="chat-subtitle">Analisis statistik percakapan menggunakan algoritma MapReduce</p>
        </div>

        <!-- Chat Input Section -->
        <div class="chat-input-section">
            <h3 class="section-title">
                <i class="fas fa-comment-dots me-2"></i>
                Input Data Chat
            </h3>
            
            <div class="chat-format-selector">
                <div class="format-option active">
                    <i class="fas fa-table me-2"></i>
                    CSV Format
                </div>
                <div class="format-option">
                    <i class="fas fa-file-export me-2"></i>
                    WhatsApp Export
                </div>
                <div class="format-option">
                    <i class="fas fa-upload me-2"></i>
                    Upload File
                </div>
            </div>

            <div class="chat-data-input">
                <label class="form-label">Data Chat (Format CSV):</label>
                <textarea class="chat-textarea" id="chatData" rows="12" placeholder="timestamp,user,message&#10;2024-01-15 10:30:00,Alice,Halo semuanya&#10;2024-01-15 10:31:00,Bob,Hai Alice, apa kabar?"></textarea>
                
                <div class="format-guide">
                    <h5 class="guide-title">
                        <i class="fas fa-info-circle me-2"></i>
                        Panduan Format
                    </h5>
                    <div class="format-examples">
                        <div class="format-example">timestamp,user,message</div>
                        <div class="format-example">2024-01-15 10:30:00,Alice,Pesan dari Alice</div>
                        <div class="format-example">2024-01-15 10:31:00,Bob,Pesan dari Bob</div>
                    </div>
                </div>
            </div>

            <button class="btn-process" onclick="processChatData()" id="processChatBtn">
                <i class="fas fa-chart-bar"></i>
                Analisis Chat
            </button>
        </div>

        <!-- Results Section -->
        <div id="chatResults" class="results-section" style="display: none;">
            <!-- Chat Statistics -->
            <div class="result-section mb-4">
                <h3 class="section-title">
                    <i class="fas fa-chart-bar me-2"></i>
                    Statistik Chat
                </h3>
                <div class="chat-statistics" id="chatStatistics">
                    <!-- Statistics cards will be populated here -->
                </div>
            </div>

            <!-- Participant Analysis -->
            <div class="participant-analysis">
                <div class="participant-header">
                    <h3 class="participant-title">
                        <i class="fas fa-users me-2"></i>
                        Analisis Partisipan
                    </h3>
                </div>
                <div class="participant-stats">
                    <div class="participant-chart">
                        <canvas id="participantChart"></canvas>
                    </div>
                    <div class="participant-list" id="participantList">
                        <!-- Participant list will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Activity Timeline -->
            <div class="activity-timeline">
                <div class="timeline-header">
                    <h3 class="timeline-title">
                        <i class="fas fa-clock me-2"></i>
                        Timeline Aktivitas
                    </h3>
                </div>
                <div class="timeline-container">
                    <canvas id="timelineChart"></canvas>
                </div>
            </div>

            <!-- Word Frequency -->
            <div class="word-frequency">
                <div class="frequency-header">
                    <h3 class="frequency-title">
                        <i class="fas fa-font me-2"></i>
                        Frekuensi Kata
                    </h3>
                    <div class="frequency-controls">
                        <button class="frequency-control active">Top 10</button>
                        <button class="frequency-control">Top 20</button>
                        <button class="frequency-control">Top 50</button>
                    </div>
                </div>
                <div class="frequency-chart">
                    <canvas id="frequencyChart"></canvas>
                </div>
            </div>

            <!-- Sentiment Analysis -->
            <div class="sentiment-analysis">
                <div class="sentiment-header">
                    <h3 class="sentiment-title">
                        <i class="fas fa-smile me-2"></i>
                        Analisis Sentimen
                    </h3>
                </div>
                <div class="sentiment-overview">
                    <div class="sentiment-card positive">
                        <div class="sentiment-value">65%</div>
                        <div class="sentiment-label">Positif</div>
                    </div>
                    <div class="sentiment-card neutral">
                        <div class="sentiment-value">25%</div>
                        <div class="sentiment-label">Netral</div>
                    </div>
                    <div class="sentiment-card negative">
                        <div class="sentiment-value">10%</div>
                        <div class="sentiment-label">Negatif</div>
                    </div>
                </div>
                <div class="sentiment-chart">
                    <canvas id="sentimentChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Empty State -->
        <div id="chatEmptyState" class="chat-empty-state">
            <div class="chat-empty-icon">
                <i class="fas fa-comments"></i>
            </div>
            <h4 class="chat-empty-title">Belum ada data chat</h4>
            <p class="chat-empty-description">
                Masukkan data chat dalam format CSV di atas dan klik "Analisis Chat" untuk melihat hasil
            </p>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="footer-text">
                        <i class="fas fa-project-diagram me-2"></i>
                        MapReduce Analytics - Chat Analysis &copy; 2024
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <div class="footer-links">
                        <a href="index.html" class="footer-link">
                            <i class="fas fa-home me-1"></i>Dashboard
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/mapreduce.js"></script>
</body>
</html>